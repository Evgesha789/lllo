<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíå –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç</title>
    <style>
        /* ===== –û–ë–©–ò–ï –°–¢–ò–õ–ò ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1), opacity 1.2s;
            z-index: 10;
            overflow-y: auto;
        }

        .scene.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateY(100px);
        }

        /* ===== –°–¶–ï–ù–ê 1: –£–í–ï–î–û–ú–õ–ï–ù–ò–ï ===== */
        .scene-1 {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .scene-1 .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .scene-1 .particle {
            position: absolute;
            background: linear-gradient(45deg, #ff6b8b55, #667eea55);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .notification-container {
            position: relative;
            z-index: 1;
            max-width: 500px;
            width: 100%;
            transform: translateY(20px);
            opacity: 0;
            animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.5s;
        }

        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .telegram-notification {
            background: white;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .notification-header {
            background: linear-gradient(90deg, #0088cc, #00a8ff);
            padding: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
            overflow: hidden;
        }

        .notification-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 70%
            );
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .app-icon {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #0088cc;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
        }

        .header-text {
            position: relative;
            z-index: 1;
        }

        .app-name {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 3px;
        }

        .notification-tag {
            color: rgba(255, 255, 255, 0.9);
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .pulse-dot {
            width: 8px;
            height: 8px;
            background: #ff4757;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .notification-body {
            padding: 30px;
            background: #f8f9fa;
        }

        .message-bubble {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 136, 204, 0.1);
            animation: bubbleAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards 1s;
            opacity: 0;
            transform: translateX(-10px);
        }

        @keyframes bubbleAppear {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-bubble::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 30px;
            width: 16px;
            height: 16px;
            background: white;
            transform: rotate(45deg);
            border-left: 1px solid rgba(0, 136, 204, 0.1);
            border-bottom: 1px solid rgba(0, 136, 204, 0.1);
        }

        .sender {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 2px solid #f0f4f8;
        }

        .sender-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #ff6b8b, #ff8e53);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(255, 107, 139, 0.3);
        }

        .sender-info h3 {
            color: #2d3436;
            font-size: 16px;
            margin-bottom: 3px;
        }

        .sender-info span {
            color: #636e72;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .message-content {
            line-height: 1.6;
            color: #2d3436;
            font-size: 17px;
            padding: 10px 0;
        }

        .message-content p {
            margin-bottom: 15px;
        }

        .highlight {
            background: linear-gradient(120deg, #ffecb8 0%, #ffeaa7 100%);
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: 500;
        }

        .heart-emoji {
            display: inline-block;
            animation: heartbeat 1.5s infinite;
            margin: 0 5px;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            animation: fadeIn 0.5s ease forwards 1.4s;
            opacity: 0;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .action-btn {
            flex: 1;
            padding: 16px 24px;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .action-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background: linear-gradient(90deg, #00a8ff, #0088cc);
            color: white;
            box-shadow: 0 6px 20px rgba(0, 168, 255, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #636e72;
            border: 2px solid #dfe6e9;
        }

        .typing-text {
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid transparent;
            animation: 
                typing 3s steps(40, end) forwards 1.6s,
                blink 0.75s step-end infinite 1.6s;
            width: 0;
        }

        @keyframes typing {
            to { width: 100%; }
        }

        @keyframes blink {
            from, to { border-color: transparent; }
            50% { border-color: #00a8ff; }
        }

        /* ===== –°–¶–ï–ù–ê 2: –ó–ê–ì–ê–î–ö–ê –î–ê–¢–´ ===== */
        .scene-2 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .envelope {
            width: 300px;
            height: 200px;
            background: linear-gradient(45deg, #ff6b8b, #ff8e53);
            border-radius: 20px;
            position: relative;
            margin-bottom: 50px;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 1s;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .envelope:hover {
            transform: rotateY(10deg) rotateX(5deg);
        }

        .envelope:active {
            transform: scale(0.95);
        }

        .envelope-flap {
            position: absolute;
            top: -50px;
            left: 0;
            width: 100%;
            border-left: 150px solid transparent;
            border-right: 150px solid transparent;
            border-bottom: 50px solid #ff4757;
            transform-origin: top;
            animation: flapWave 2s infinite;
        }

        @keyframes flapWave {
            0%, 100% { transform: rotateX(0deg); }
            50% { transform: rotateX(10deg); }
        }

        .envelope-body {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(45deg, #ff6b8b, #ff8e53);
            border-radius: 0 0 20px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .heart {
            font-size: 4rem;
            color: white;
            animation: heartbeat 1.5s infinite;
        }

        .date-puzzle {
            text-align: center;
            max-width: 600px;
            position: relative;
            z-index: 1;
        }

        .date-puzzle h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ffd700, #ff8e53);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .code-display {
            background: rgba(0, 0, 0, 0.5);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #667eea;
            margin: 30px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.8rem;
            letter-spacing: 5px;
            position: relative;
            overflow: hidden;
        }

        .code-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .hint {
            margin-top: 20px;
            color: #a1c4fd;
            font-style: italic;
        }

        .typing-input {
            margin-top: 30px;
            padding: 15px 25px;
            font-size: 1.5rem;
            border: none;
            border-radius: 50px;
            background: rgba(255,255,255,0.1);
            color: white;
            text-align: center;
            width: 300px;
            outline: none;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .typing-input:focus {
            border-color: #ff6b8b;
            box-shadow: 0 0 20px rgba(255,107,139,0.5);
        }

        .typing-input.correct {
            background: rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
            animation: correctGlow 0.5s;
        }

        @keyframes correctGlow {
            0% { box-shadow: 0 0 5px #4CAF50; }
            100% { box-shadow: 0 0 30px #4CAF50; }
        }

        /* ===== –°–¶–ï–ù–ê 3: –¶–ò–§–ï–†–ë–õ–ê–¢ ===== */
        .scene-3 {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .clock-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin-bottom: 50px;
        }

        .clock-face {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, #0f3460 0%, #1a1a2e 100%);
            border-radius: 50%;
            border: 8px solid #3949ab;
            box-shadow: 
                0 0 60px rgba(57, 73, 171, 0.5),
                inset 0 0 60px rgba(0, 0, 0, 0.5);
        }

        .hour-marker {
            position: absolute;
            width: 4px;
            height: 30px;
            background: white;
            left: 50%;
            top: 20px;
            transform-origin: bottom center;
            transform: translateX(-50%);
        }

        .hour-number {
            position: absolute;
            font-size: 2rem;
            font-weight: bold;
            color: #e3f2fd;
            text-shadow: 0 0 10px rgba(227, 242, 253, 0.5);
        }

        .hour-hand, .minute-hand {
            position: absolute;
            background: white;
            border-radius: 10px;
            transform-origin: bottom center;
            left: 50%;
            top: 50%;
            transform: translateX(-50%);
            transition: transform 0.5s cubic-bezier(0.4, 2.3, 0.8, 1);
        }

        .hour-hand {
            width: 8px;
            height: 120px;
            top: calc(50% - 120px);
            background: linear-gradient(to top, #ff6b8b, #ff8e53);
            box-shadow: 0 0 20px rgba(255,107,139,0.5);
        }

        .minute-hand {
            width: 6px;
            height: 170px;
            top: calc(50% - 170px);
            background: linear-gradient(to top, #667eea, #764ba2);
            box-shadow: 0 0 20px rgba(102,126,234,0.5);
        }

        .center-circle {
            position: absolute;
            width: 25px;
            height: 25px;
            background: white;
            border-radius: 50%;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            box-shadow: 0 0 20px white;
        }

        .selected-time {
            margin-top: 30px;
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff6b8b, #667eea);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(102,126,234,0.3);
            min-height: 60px;
        }

        .time-hint {
            color: #a1c4fd;
            margin: 15px 0 30px;
        }

        .confirm-btn {
            padding: 15px 40px;
            font-size: 1.3rem;
            background: linear-gradient(45deg, #ff6b8b, #667eea);
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(255,107,139,0.4);
        }

        .confirm-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255,107,139,0.6);
        }

        .confirm-btn:active {
            transform: translateY(-2px);
        }

        /* ===== –°–¶–ï–ù–ê 4: –§–ò–ù–ê–õ–¨–ù–û–ï –ü–†–ò–ì–õ–ê–®–ï–ù–ò–ï ===== */
        .scene-4 {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .floating-heart {
            position: absolute;
            font-size: 2rem;
            opacity: 0;
            animation: floatUp 5s linear forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        .invitation-card {
            background: rgba(255,255,255,0.95);
            color: #1a1a2e;
            padding: 50px;
            border-radius: 30px;
            max-width: 700px;
            text-align: center;
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
            position: relative;
            overflow: hidden;
            animation: cardAppear 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes cardAppear {
            0% { transform: scale(0.5) rotate(-10deg); opacity: 0; }
            100% { transform: scale(1) rotate(0); opacity: 1; }
        }

        .invitation-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, #ff6b8b, #ff8e53, #667eea, #764ba2, #ff6b8b);
            animation: rotate 10s linear infinite;
            z-index: -1;
        }

        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }

        .invitation-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            position: relative;
            z-index: 1;
        }

        .invitation-title {
            font-size: 2.8rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b8b, #667eea);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .invitation-details {
            font-size: 1.8rem;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(45deg, #f3e5f5, #e3f2fd);
            border-radius: 15px;
            border-left: 5px solid #ff6b8b;
        }

        .secret-code {
            margin: 30px 0;
            padding: 20px;
            background: #1a1a2e;
            color: white;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            letter-spacing: 2px;
            border: 2px dashed #ff6b8b;
        }

        .actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .action-btn-final {
            padding: 15px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .accept-btn {
            background: linear-gradient(45deg, #4CAF50, #2E7D32);
            color: white;
        }

        .share-btn {
            background: linear-gradient(45deg, #2196F3, #0D47A1);
            color: white;
        }

        .action-btn-final:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* ===== –ú–ï–î–ò–ê-–ó–ê–ü–†–û–°–´ ===== */
        @media (max-width: 768px) {
            .clock-container {
                width: 300px;
                height: 300px;
            }
            
            .hour-hand {
                height: 90px;
                top: calc(50% - 90px);
            }
            
            .minute-hand {
                height: 130px;
                top: calc(50% - 130px);
            }
            
            .invitation-card {
                padding: 20px;
                margin: 10px;
            }
            
            .invitation-content {
                padding: 20px;
            }
            
            .invitation-title {
                font-size: 2rem;
            }
            
            .invitation-details {
                font-size: 1.4rem;
            }
            
            .actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .notification-container {
                margin: 10px;
            }
            
            .clock-container {
                width: 250px;
                height: 250px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ===== –°–¶–ï–ù–ê 1: –£–í–ï–î–û–ú–õ–ï–ù–ò–ï ===== -->
    <div class="scene scene-1" id="scene1">
        <div class="bg-particles" id="particles1"></div>
        <div class="notification-container">
            <div class="telegram-notification">
                <div class="notification-header">
                    <div class="app-icon">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <div class="header-text">
                        <div class="app-name">–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ª—é–±–≤–∏ ‚ù§Ô∏è</div>
                        <div class="notification-tag">
                            <div class="pulse-dot"></div>
                            –¢–æ–ª—å–∫–æ —á—Ç–æ ‚Ä¢ –õ–∏—á–Ω–æ–µ
                        </div>
                    </div>
                </div>

                <div class="notification-body">
                    <div class="message-bubble">
                        <div class="sender">
                            <div class="sender-avatar">
                                –¢–´
                            </div>
                            <div class="sender-info">
                                <h3>–°–∞–º–∞—è –ª—é–±–∏–º–∞—è –¥–µ–≤—É—à–∫–∞</h3>
                                <span>
                                    <i class="fas fa-check-circle" style="color: #00a8ff;"></i>
                                    –æ–Ω–ª–∞–π–Ω ‚Ä¢ –ø–∏—à–µ—Ç —Å–µ–π—á–∞—Å
                                </span>
                            </div>
                        </div>

                        <div class="message-content">
                            <p>–ü—Ä–∏–≤–µ—Ç, –º–æ–π –¥–æ—Ä–æ–≥–æ–π üí´</p>
                            <p>–ö–∞–∫ –Ω–∞—Å—á—ë—Ç <span class="highlight">–º–∏–Ω–∏ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ—á–µ—Ä–∞</span> –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?</p>
                            <p>–Ø —É–∂–µ –ø—Ä–∏–¥—É–º–∞–ª–∞ –æ–¥–Ω—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∏–¥–µ—é... –ù–æ —ç—Ç–æ –ø–æ–∫–∞ —Å–µ–∫—Ä–µ—Ç ü§´</p>
                            <p class="typing-text">–Ø –ª—é–±–ª—é —Ç–µ–±—è 
                                <span class="heart-emoji">‚ù§Ô∏è</span>
                                <span class="heart-emoji">üß°</span>
                                <span class="heart-emoji">üíõ</span>
                            </p>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn btn-primary" onclick="openInvitation()">
                            <i class="fas fa-heart"></i>
                            –£–∑–Ω–∞—Ç—å –¥–µ—Ç–∞–ª–∏
                        </button>
                        <button class="action-btn btn-secondary" onclick="sendKiss()">
                            <i class="fas fa-kiss-wink-heart"></i>
                            –¶–µ–ª—É—é –≤ –æ—Ç–≤–µ—Ç
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== –°–¶–ï–ù–ê 2: –ó–ê–ì–ê–î–ö–ê –î–ê–¢–´ ===== -->
    <div class="scene scene-2 hidden" id="scene2">
        <div class="stars" id="stars2"></div>
        <div class="envelope" onclick="openEnvelope()">
            <div class="envelope-flap"></div>
            <div class="envelope-body">
                <div class="heart">‚ù§Ô∏è</div>
            </div>
        </div>
        
        <div class="date-puzzle">
            <h1>–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ</h1>
            <div class="code-display">
                [05.02.2026]
            </div>
            <p>–≠—Ç–æ –¥–∞—Ç–∞, –∫–æ–≥–¥–∞ —è —Ö–æ—á—É –ø—Ä–æ–≤–µ—Å—Ç–∏ —Å —Ç–æ–±–æ–π –æ—Å–æ–±–µ–Ω–Ω—ã–π –≤–µ—á–µ—Ä.</p>
            <p class="hint">–ù–∞–∂–º–∏ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É</p>
            
            <input type="text" 
                   class="typing-input" 
                   placeholder="–í–≤–µ–¥–∏ –¥–∞—Ç—É..." 
                   maxlength="10"
                   onkeyup="checkDate(this)">
        </div>
    </div>

    <!-- ===== –°–¶–ï–ù–ê 3: –¶–ò–§–ï–†–ë–õ–ê–¢ ===== -->
    <div class="scene scene-3 hidden" id="scene3">
        <h1 style="margin-bottom: 30px;">–í—ã–±–µ—Ä–∏ –∏–¥–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</h1>
        <p class="time-hint">–ü–µ—Ä–µ—Ç–∞—â–∏ —Å—Ç—Ä–µ–ª–∫–∏ —á–∞—Å–æ–≤ –Ω–∞ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è</p>
        
        <div class="clock-container" id="clockContainer">
            <div class="clock-face">
                <div class="center-circle"></div>
            </div>
            <div class="hour-hand" id="hourHand"></div>
            <div class="minute-hand" id="minuteHand"></div>
        </div>
        
        <div class="selected-time" id="selectedTime">
            19:00
        </div>
        
        <button class="confirm-btn" onclick="confirmTime()">
            <i class="fas fa-check-circle"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—Ä–µ–º—è
        </button>
    </div>

    <!-- ===== –°–¶–ï–ù–ê 4: –§–ò–ù–ê–õ–¨–ù–û–ï –ü–†–ò–ì–õ–ê–®–ï–ù–ò–ï ===== -->
    <div class="scene scene-4 hidden" id="scene4">
        <div class="floating-hearts" id="floatingHearts"></div>
        
        <div class="invitation-card">
            <div class="invitation-content">
                <h1 class="invitation-title">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ! ‚ú®</h1>
                
                <div class="invitation-details">
                    <p><i class="far fa-calendar"></i> <strong>05 —Ñ–µ–≤—Ä–∞–ª—è 2026</strong></p>
                    <p><i class="far fa-clock"></i> <strong id="finalTime">19:00</strong></p>
                    <p><i class="fas fa-map-marker-alt"></i> <strong>–¢–∞–π–Ω–æ–µ –∫–∞—Ñ–µ</strong></p>
                </div>
                
                <p style="font-size: 1.3rem; line-height: 1.6; margin: 25px 0;">
                    –í—Å—ë –≥–æ—Ç–æ–≤–æ –¥–ª—è –Ω–∞—à–µ–≥–æ –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞!<br>
                    –Ø –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª–∞ —Å—Ç–æ–ª–∏–∫ –≤ —É—é—Ç–Ω–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ –Ω–∞—Å –∂–¥—É—Ç...
                </p>
                
                <div class="secret-code">
                    <p>–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:</p>
                    <h2 style="margin: 10px 0;" id="secretCode">LOVE-0502</h2>
                    <small>–ü—Ä–æ–∏–∑–Ω–µ—Å–∏ —ç—Ç–æ—Ç –∫–æ–¥ –ø—Ä–∏ –≤—Ö–æ–¥–µ</small>
                </div>
                
                <div class="actions">
                    <button class="action-btn-final accept-btn" onclick="acceptInvitation()">
                        <i class="fas fa-heart"></i> –ü—Ä–∏–Ω–∏–º–∞—é —Å —Ä–∞–¥–æ—Å—Ç—å—é!
                    </button>
                    <button class="action-btn-final share-btn" onclick="shareInvitation()">
                        <i class="fas fa-share-alt"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
        let selectedTime = '19:00';
        let secretCode = 'LOVE-0502';
        let particles = [];

        // ===== –£–ü–†–ê–í–õ–ï–ù–ò–ï –°–¶–ï–ù–ê–ú–ò =====
        function showScene(sceneId) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ü–µ–Ω—ã
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.add('hidden');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å—Ü–µ–Ω—É
            const scene = document.getElementById(sceneId);
            scene.classList.remove('hidden');
            
            // –ï—Å–ª–∏ —ç—Ç–æ —Å—Ü–µ–Ω–∞ —Å —á–∞—Å–∞–º–∏, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏—Ö
            if (sceneId === 'scene3') {
                initClock();
            }
            
            // –ï—Å–ª–∏ —ç—Ç–æ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ü–µ–Ω–∞, –∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
            if (sceneId === 'scene4') {
                createFloatingHearts();
                updateFinalInvitation();
            }
        }

        // ===== –°–¶–ï–ù–ê 1: –£–í–ï–î–û–ú–õ–ï–ù–ò–ï =====
        function createParticles() {
            const container = document.getElementById('particles1');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 60 + 20;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDelay = `${Math.random() * 20}s`;
                particle.style.animationDuration = `${Math.random() * 10 + 15}s`;
                
                container.appendChild(particle);
                particles.push(particle);
            }
        }

        function openInvitation() {
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            const btn = event.target.closest('.action-btn');
            btn.style.transform = 'scale(0.95)';
            setTimeout(() => {
                btn.style.transform = '';
            }, 200);
            
            // –≠—Ñ—Ñ–µ–∫—Ç —Å–µ—Ä–¥–µ—á–µ–∫
            createHeartConfetti();
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫–æ –≤—Ç–æ—Ä–æ–π —Å—Ü–µ–Ω–µ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
            setTimeout(() => {
                showScene('scene2');
                createStars();
                autoFillDate();
            }, 1000);
        }

        function sendKiss() {
            const btn = event.target.closest('.action-btn');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏
            btn.innerHTML = '<i class="fas fa-heart"></i> –¶–µ–ª—É–µ–µ–µ–º!';
            btn.style.background = 'linear-gradient(90deg, #ff6b8b, #ff8e53)';
            btn.style.color = 'white';
            
            // –°–æ–∑–¥–∞–µ–º –ª–µ—Ç–∞—é—â–∏–µ –ø–æ—Ü–µ–ª—É–∏
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    createFlyingKiss();
                }, i * 100);
            }
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-kiss-wink-heart"></i> –¶–µ–ª—É—é –≤ –æ—Ç–≤–µ—Ç';
                btn.style.background = '';
                btn.style.color = '';
            }, 2000);
        }

        function createFlyingKiss() {
            const kiss = document.createElement('div');
            kiss.innerHTML = 'üíã';
            kiss.style.position = 'fixed';
            kiss.style.fontSize = '25px';
            kiss.style.left = `${Math.random() * 100}vw`;
            kiss.style.top = '100vh';
            kiss.style.zIndex = '1000';
            kiss.style.pointerEvents = 'none';
            kiss.style.animation = `flyKiss ${Math.random() * 1 + 1.5}s ease-out forwards`;
            
            document.body.appendChild(kiss);
            
            setTimeout(() => kiss.remove(), 2000);
        }

        function createHeartConfetti() {
            const hearts = ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú'];
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.fontSize = `${Math.random() * 20 + 15}px`;
                    heart.style.left = `${Math.random() * 100}vw`;
                    heart.style.top = '-30px';
                    heart.style.zIndex = '1000';
                    heart.style.pointerEvents = 'none';
                    heart.style.animation = `confettiFall ${Math.random() * 2 + 2}s ease-in forwards`;
                    
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 3000);
                }, i * 50);
            }
        }

        // ===== –°–¶–ï–ù–ê 2: –ó–ê–ì–ê–î–ö–ê –î–ê–¢–´ =====
        function createStars() {
            const container = document.getElementById('stars2');
            for(let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(star);
            }
        }

        function autoFillDate() {
            setTimeout(() => {
                const input = document.querySelector('.typing-input');
                input.value = '05.02.2026';
                input.classList.add('correct');
            }, 1000);
        }

        function checkDate(input) {
            if(input.value === '05.02.2026' || input.value === '05022026') {
                input.classList.add('correct');
                setTimeout(() => {
                    input.blur();
                }, 500);
            } else {
                input.classList.remove('correct');
            }
        }

        function openEnvelope() {
            const envelope = document.querySelector('.envelope');
            envelope.style.transform = 'rotateY(180deg) scale(1.2)';
            envelope.style.opacity = '0';
            
            setTimeout(() => {
                showScene('scene3');
            }, 800);
        }

        // ===== –°–¶–ï–ù–ê 3: –¶–ò–§–ï–†–ë–õ–ê–¢ =====
        function initClock() {
            const clockContainer = document.getElementById('clockContainer');
            const hourHand = document.getElementById('hourHand');
            const minuteHand = document.getElementById('minuteHand');
            const selectedTimeElement = document.getElementById('selectedTime');
            
            // –°–æ–∑–¥–∞–µ–º —á–∞—Å–æ–≤—ã–µ –º–µ—Ç–∫–∏
            for(let i = 1; i <= 12; i++) {
                // –ú–µ—Ç–∫–∏
                const marker = document.createElement('div');
                marker.className = 'hour-marker';
                marker.style.transform = `translateX(-50%) rotate(${i * 30}deg)`;
                clockContainer.querySelector('.clock-face').appendChild(marker);
                
                // –¶–∏—Ñ—Ä—ã
                const number = document.createElement('div');
                number.className = 'hour-number';
                number.textContent = i;
                
                const angle = i * 30 * Math.PI / 180;
                const radius = 150;
                const x = 200 + Math.sin(angle) * radius;
                const y = 200 - Math.cos(angle) * radius;
                
                number.style.left = x + 'px';
                number.style.top = y + 'px';
                number.style.transform = 'translate(-50%, -50%)';
                
                clockContainer.appendChild(number);
            }
            
            let hour = 19;
            let minute = 0;
            let isDragging = false;
            let dragStartAngle = 0;
            let dragType = null;
            
            function updateClock() {
                const hourAngle = (hour % 12) * 30 + minute * 0.5;
                const minuteAngle = minute * 6;
                
                hourHand.style.transform = `translateX(-50%) rotate(${hourAngle}deg)`;
                minuteHand.style.transform = `translateX(-50%) rotate(${minuteAngle}deg)`;
                
                const formattedHour = hour.toString().padStart(2, '0');
                const formattedMinute = minute.toString().padStart(2, '0');
                selectedTimeElement.textContent = `${formattedHour}:${formattedMinute}`;
                selectedTime = `${formattedHour}:${formattedMinute}`;
            }
            
            function getAngle(event) {
                const rect = clockContainer.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                const clientX = event.clientX || event.touches[0].clientX;
                const clientY = event.clientY || event.touches[0].clientY;
                
                const x = clientX - centerX;
                const y = clientY - centerY;
                
                return Math.atan2(y, x) * 180 / Math.PI + 90;
            }
            
            function startDrag(type, event) {
                isDragging = true;
                dragType = type;
                dragStartAngle = getAngle(event);
                document.addEventListener('mousemove', onDrag);
                document.addEventListener('mouseup', stopDrag);
                document.addEventListener('touchmove', onDrag);
                document.addEventListener('touchend', stopDrag);
                event.preventDefault();
            }
            
            function onDrag(event) {
                if(!isDragging) return;
                
                const currentAngle = getAngle(event);
                let delta = currentAngle - dragStartAngle;
                
                if(delta > 180) delta -= 360;
                if(delta < -180) delta += 360;
                
                if(dragType === 'hour') {
                    hour += Math.round(delta / 30);
                    hour = (hour + 24) % 24;
                } else if(dragType === 'minute') {
                    minute += Math.round(delta / 6);
                    minute = (minute + 60) % 60;
                    if(minute >= 60) {
                        hour = (hour + 1) % 24;
                        minute = minute % 60;
                    }
                }
                
                updateClock();
                dragStartAngle = currentAngle;
            }
            
            function stopDrag() {
                isDragging = false;
                document.removeEventListener('mousemove', onDrag);
                document.removeEventListener('mouseup', stopDrag);
                document.removeEventListener('touchmove', onDrag);
                document.removeEventListener('touchend', stopDrag);
            }
            
            hourHand.addEventListener('mousedown', (e) => startDrag('hour', e));
            minuteHand.addEventListener('mousedown', (e) => startDrag('minute', e));
            hourHand.addEventListener('touchstart', (e) => startDrag('hour', e.touches[0]));
            minuteHand.addEventListener('touchstart', (e) => startDrag('minute', e.touches[0]));
            
            updateClock();
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥
            const adjectives = ['LOVE', 'STAR', 'MOON', 'DREAM', 'MAGIC', 'SWEET'];
            const numbers = ['0502', '2026', '1900', '1423', '0805'];
            const randomAdj = adjectives[Math.floor(Math.random() * adjectives.length)];
            const randomNum = numbers[Math.floor(Math.random() * numbers.length)];
            secretCode = `${randomAdj}-${randomNum}`;
        }

        function confirmTime() {
            showScene('scene4');
        }

        // ===== –°–¶–ï–ù–ê 4: –§–ò–ù–ê–õ–¨–ù–û–ï –ü–†–ò–ì–õ–ê–®–ï–ù–ò–ï =====
        function updateFinalInvitation() {
            document.getElementById('finalTime').textContent = selectedTime;
            document.getElementById('secretCode').textContent = secretCode;
        }

        function createFloatingHearts() {
            const container = document.getElementById('floatingHearts');
            const hearts = ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'ü§é', 'üñ§', 'ü§ç'];
            
            function addHeart() {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 5 + 's';
                heart.style.fontSize = Math.random() * 20 + 20 + 'px';
                container.appendChild(heart);
                
                setTimeout(() => heart.remove(), 5000);
            }
            
            // –°–æ–∑–¥–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–¥–µ—Ü —Å—Ä–∞–∑—É
            for(let i = 0; i < 20; i++) {
                setTimeout(addHeart, i * 300);
            }
            
            // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å
            setInterval(addHeart, 1000);
        }

        function acceptInvitation() {
            const text = `üíù –ò–¥–µ–∞–ª—å–Ω–æ! –ñ–¥—É —Ç–µ–±—è 05.02.2026 –≤ ${selectedTime}\n\n–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥: ${secretCode}\n\n–≠—Ç–æ –±—É–¥–µ—Ç —Å–∞–º—ã–π –ª—É—á—à–∏–π –≤–µ—á–µ—Ä!`;
            alert(text);
            
            // –°–æ–∑–¥–∞–µ–º –≤–∑—Ä—ã–≤ —Å–µ—Ä–¥–µ—Ü
            const hearts = ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú'];
            for(let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.fontSize = '30px';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = Math.random() * 100 + 'vh';
                    heart.style.animation = `floatUp 3s linear forwards`;
                    heart.style.zIndex = '1000';
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 3000);
                }, i * 100);
            }
        }

        function shareInvitation() {
            const text = `üíå –Ø –ø—Ä–∏–Ω—è–ª(–∞) –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ!\n–î–∞—Ç–∞: 05.02.2026\n–í—Ä–µ–º—è: ${selectedTime}\n–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥: ${secretCode}\n–ñ–¥–∏ –º–µ–Ω—è, –ª—é–±–∏–º–∞—è!`;
            
            if(navigator.share) {
                navigator.share({
                    title: '–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∏–¥–∞–Ω–∏–µ',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    alert('–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞! üìã');
                });
            }
        }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            
            // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–µ—á–∞—Ç–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
            setTimeout(() => {
                const typingElement = document.querySelector('.typing-text');
                typingElement.style.borderRight = '2px solid #00a8ff';
                
                setTimeout(() => {
                    typingElement.style.borderRight = 'none';
                }, 8000);
            }, 1600);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
            const style = document.createElement('style');
            style.textContent = `
                @keyframes flyKiss {
                    0% {
                        transform: translateY(0) rotate(0deg);
                        opacity: 1;
                    }
                    100% {
                        transform: translateY(-100vh) rotate(360deg);
                        opacity: 0;
                    }
                }
                
                @keyframes confettiFall {
                    0% {
                        transform: translateY(0) rotate(0deg);
                        opacity: 1;
                    }
                    100% {
                        transform: translateY(100vh) rotate(720deg);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
